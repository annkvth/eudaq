INCLUDE_DIRECTORIES(include)


#IF(SPIDR_FOUND)
LIST(APPEND MODULE_SRC src/Timepix4Producer.cxx)
MESSAGE(STATUS "Building Timepix4 Producer")

FIND_PACKAGE(ROOT REQUIRED)
INCLUDE_DIRECTORIES(${ROOT_INCLUDE_DIRS})
SET(EXT_LIBRARIES ${ROOT_LIBRARIES} ${ROOT_COMPONENT_LIBRARIES})
#ELSE()
#  MESSAGE(WARNING "Timepix4 Producer NOT built: SPIDR4 and/or ROOT are missing")
#ENDIF()

ADD_LIBRARY(${EUDAQ_MODULE} SHARED ${MODULE_SRC})
TARGET_LINK_LIBRARIES(${EUDAQ_MODULE} ${EUDAQ_CORE_LIBRARY} ${EUDAQ_LCIO_LIBRARY} ${EXT_LIBRARIES})


INSTALL(TARGETS
  ${EUDAQ_MODULE}
  RUNTIME DESTINATION bin
  LIBRARY DESTINATION lib
  ARCHIVE DESTINATION lib)
